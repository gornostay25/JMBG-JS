class JMBG{constructor(i){return i.length<12||i.length>13?(console.log("JMBG: length error 11<JMB<14"),!1):i.match(/^\d+$/)?(this.jmbg=i,this.GetNumsAtray=function(i){return i.split("")},void(this.validation=function(i){let r=7*(i[0]+i[6])+6*(i[1]+i[7])+5*(i[2]+i[8])+4*(i[3]+i[9])+3*(i[4]+i[10])+2*(i[5]+i[11])-1,e=r%11;return 1==e?(console.log("JMBG: invalid. "+r+" mod 11=1"),!1):e})):(console.log("JMBG: only numbers!"),!1)}isValid(){if(this.jmbg.match(/^\d{13}$/)){let i=this.GetNumsAtray(this.jmbg),r=this.validation(i);return i[12]==r||(console.log("JMBG: not Valid"),!1)}return console.log("JMBG: only 13 numbers!"),!1}parse(i){const r=!!i.ignoreValidation&&i.ignoreValidation,e=!i.getGender||i.getGender,a=!i.getYO||i.getYO,t=!i.getUTime||i.getUTime,o=!i.getRegion||i.getRegion,n=(i.lang,1);let s={jmbg:this.jmbg,birth_date:[]},c=this.isValid(),l=this.GetNumsAtray(this.jmbg);if(r)s.valid=c||!c;else{if(!c)return!1;s.valid=c}if(e){let i=parseInt(l[9]+l[10]+l[11]);s.gender=i<500?"M":"W"}let g=parseInt(l[0]+l[1]),d=parseInt(l[2]+l[3]),u=parseInt(l[4]+l[5]+l[6]);if(g>31)return!1;if(s.birth_date[0]=g,d>12)return!1;s.birth_date[1]=d,9==parseInt(l[4])?s.birth_date[2]=1e3+u:s.birth_date[2]=2e3+u,a&&(s.age=(new Date).getFullYear()-s.birth_date[2]),t&&(s.timestamp=new Date(s.birth_date[2]+"-"+s.birth_date[1]+"-"+s.birth_date[0]).getTime()/1e3);let v=parseInt(l[7]+l[8]),j={};switch(n){case 1:j.c0="Foreign citizens",j[0]="null or Croatia",j[1]="foreigners in Bosnia and Herzegovina",j[2]="foreigners in Montenegro",j[3]="foreigners in Croatia",j[4]="foreigners in Macedonia",j[5]="foreigners in Slovenia",j[6]="foreigners in Central Serbia",j[7]="foreigners in Vojvodina",j[8]="foreigners in Kosovo",j[9]="null",j.c10="Bosnia and Herzegovina",j[10]="Banja Luka",j[11]="Bihać",j[12]="Doboj",j[13]="Goražde",j[14]="Livno",j[15]="Mostar",j[16]="Prijedor",j[17]="Sarajevo",j[18]="Tuzla",j[19]="Zenica",j.c20="Montenegro",j[20]="null",j[21]="Podgorica, Danilovgrad, Kolašin",j[22]="Bar, Ulcinj",j[23]="Budva, Kotor, Tivat",j[24]="Herceg-Novi",j[25]="Cetinje",j[26]="Nikšić, Plužine, Šavnik",j[27]="Berane, Rožaje, Plav, Andrijevica",j[28]="Bijelo Polje, Mojkovac",j[29]="Pljevlja, Žabljak",j.c30="Croatia",j[30]="Osijek, Slavonia region",j[31]="Bjelovar, Virovitica, Koprivnica, Pakrac, Podravina region",j[32]="Varaždin, Međimurje region",j[33]="Zagreb",j[34]="Karlovac, Kordun region",j[35]="Gospić, Lika region",j[36]="Rijeka, Pula, Gorski kotar, Istria and Croatian Littoral regions",j[37]="Sisak, Banovina region",j[38]="Split, Zadar, Šibenik, Dubrovnik, Dalmatia region",j[39]="Hrvatsko Zagorje and mixed",j.c40="Macedonia",j[41]="Bitola",j[42]="Kumanovo",j[43]="Ohrid",j[44]="Prilep",j[45]="Skopje",j[46]="Strumica",j[47]="Tetovo",j[48]="Veles",j[49]="Štip",j.c50="Slovenia",j.c60="Citizens with temporary residence",j.c70="Central Serbia",j[70]="Serbian diplomatic/consular",j[71]="Belgrade region",j[72]="Šumadija and Pomoravlje regions (Šumadija District and Pomoravlje District)",j[73]="Niš region (Nišava District, Pirot District and Toplica District)",j[74]="Southern Morava region (Jablanica District and Pčinja District)",j[75]="Zaječar region (Zaječar District and Bor District)",j[76]="Podunavlje region (Podunavlje District and Braničevo District)",j[77]="Podrinje and Kolubara regions (Mačva District and Kolubara District)",j[78]="Kraljevo region (Raška District, Moravica District and Rasina District)",j[79]="Užice region (Zlatibor District)",j.c80="Srbija Vojvodina",j[80]="Novi Sad region (South Bačka District)",j[81]="Sombor region (West Bačka District)",j[82]="Subotica region (North Bačka District)",j[83]="null",j[84]="Kikinda region (North Banat District)",j[85]="Zrenjanin region (Central Banat District)",j[86]="Pančevo region (South Banat District)",j[87]="Vršac region (South Banat District)",j[88]="Ruma region (part of Syrmia District)",j[89]="Sremska Mitrovica region (part of Syrmia District)",j.c90="Kosovo",j[90]="null",j[91]="Priština region (Kosovo District)",j[92]="Kosovska Mitrovica region (Kosovska Mitrovica District)",j[93]="Peć region (part of Peć District)",j[94]="Đakovica region (part of Peć District)",j[95]="Prizren region (Prizren District)",j[96]="Gnjilane region (Kosovo-Pomoravlje District)"}if(v<10)s.country=j.c0;else if(v>9&&v<20)s.country=j.c10;else if(v>19&&v<30)s.country=j.c20;else if(v>19&&v<30)s.country=j.c30;else{if(40==v)return!1;if(v>40&&v<50)s.country=j.c40;else if(50==v)s.country=j.c50;else{if(v>50&&v<60)return!1;v>59&&v<70?s.country=j.c60:v>69&&v<80?s.country=j.c70:v>79&&v<90?s.country=j.c80:v>89&&v<100&&(s.country=j.c90)}}return o&&(s.region=j[v]),s}}
